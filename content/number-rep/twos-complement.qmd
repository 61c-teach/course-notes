---
title: "Two's Complement"
subtitle: "The C23 Standard Number Rep"
---

## Two's Complement

* Ones’ complement:
* The problem: Negative mappings “overlap” with the positive ones, creating the two 0s.
* The solution: **Shift the negative mappings left by one.**

!["Binary odometer" for sign-magnitude signed integer representation.](images/twos-complement-number-line.png){#fig-sign-magnitude alt="A blue horizontal number line displays 4-bit binary values and their corresponding decimal equivalents from -8 to 7 to illustrate two's complement representation. Two gold arrows point to the right across the entire scale, indicating that adding to the binary value consistently increases the numerical value across both negative and positive ranges."}

## Arithmetic in Two’s Complement is simple

* Advantages:
  * Leftmost bit (“most significant bit”) is still effectively sign bit
  * Incrementing binary odometer consistent on the # line
  * One zero, and one extra negative number (here, -8 vs 7)
  * **Simple hardware for addition**


![Two's Complement addition is intuitive and follows decimal procedure.](images/twos-complement-addition.png){#fig-sign-magnitude alt="A diagram compares the decimal addition of positive and negative five with the equivalent operation in two's complement binary, adding 0101 and 1011. The binary calculation displays red carry bits and results in a five-bit sum where the leading bit is discarded to achieve the correct four-bit value of 0000, which is the number zero."}

## Two's Complement: Formula

* Positive and negative numbers can be computed using the same formula:
  * Highest bit multiplied by neg power of 2

$$
\begin{align}
\texttt{0b1011} 
&= (1 \times –2^3)	+ (0 \times 2^2)	+ (1 \times 2^1)	+ (1 \times 2^0) \\
&=  -8 		+  0        		+  2        		+  1 \\
&=  -5 \\
\end{align}
$$

$$
\begin{align}
\texttt{0b0101}
&= (0 \times –2^3)	+ (1 \times 2^2)	+ (0 \times 2^1)	+ (1 \times 2^0) \\
&=  0       		+  4        		+  0  	      	+  1 \\
&=  5 \\
\end{align}
$$

<!--TODO: there is a pedagogically simpler way to think about this. We discuss later (as in, copy over the formula from precheck summary).-->

## Two’s Complement: Algorithm

Hardware to convert positive to negative (& vice versa) is simple.

1. Complement all bits
1. Then add 1

At home: Prove algorithm is equivalent to formula!


![Two's Complement: To change sign, flip the bits and add one.](images/twos-complement-flip-shift.png){#fig-twos-complement-flip-shift alt="Two procedures illustrate the two's complement sign-change process by converting positive five to negative five and vice versa. Each example demonstrates flipping the bits of the starting binary value and then adding one to obtain the final result with the opposite sign." width=70%}


## Two’s Complement: C standard (as of 2025)

Two’s complement is the C23 standard number representation for signed integers.

* 2N-1 negatives
* 2N-1 non-negatives
  * 1 zero
  * How many positives?

## Two’s Complement: Integer Overflow

**Integer overflow** in two’s complement can be conceptualized via a “number wheel”:

![Top: A number line indicating where integer overflow occurs. Bottom: A number "wheel" indicating the same integer overflow location.](images/twos-complement-number-wheel.png){#fig-twos-complement-flip-shift alt="A horizontal number line and a circular number wheel visually represent the continuity and overflow points of 4-bit two's complement integers. Yellow warning triangles mark the critical boundary between the maximum positive value 0111 and the minimum negative value 1000 to indicate where arithmetic overflow occurs."}